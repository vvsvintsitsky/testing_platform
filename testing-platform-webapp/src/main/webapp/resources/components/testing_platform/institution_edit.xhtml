<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:testing_platform="http://java.sun.com/jsf/composite/components/testing_platform">
<composite:interface>
	<composite:attribute name="instBean"
		type="wsvintsitsky.testing_platform.webapp.bean.InstitutionCreationBean"></composite:attribute>
</composite:interface>

<composite:implementation>
	<h:panelGroup styleClass="centered-div">
		<h:form id="institution_edit_form" >
			<h:panelGroup>
				<h:outputText value="#{lang['input.institution.name']}" />
				<h:inputText id="instName"
					value="#{cc.attrs.instBean.name}">
					<f:validator
						validatorId="wsvintsitsky.testing_platform.webapp.validator.NotEmptyStringValidator" />
				</h:inputText>
				<h:message for="instName" style="color:red" />
			</h:panelGroup>
			<testing_platform:user_profiles_table uProfileTableBean="#{userProfileTableBean}" instBean="#{cc.attrs.instBean}"/>
			<h:panelGroup>
				<h:commandButton id="submit" type="submit" value="#{lang['input.institution.add']}">
					<f:ajax execute="institution_edit_form"
						listener="#{cc.attrs.instBean.addInstitution()}" render=":layer1" />
				</h:commandButton>
			</h:panelGroup>
			<h:panelGroup>
				<h:message for="institution_edit_form" style="color:red"/>
			</h:panelGroup>
		</h:form>
	</h:panelGroup>
</composite:implementation>
</html>